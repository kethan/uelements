(function(p,y){typeof exports=="object"&&typeof module!="undefined"?y(exports):typeof define=="function"&&define.amd?define(["exports"],y):(p=typeof globalThis!="undefined"?globalThis:p||self,y(p.sinuous={}))})(this,function(p){"use strict";const y=new Set,b=new Map;new window.MutationObserver(n=>{for(const e of n)if(e.type==="attributes"){const{target:r,attributeName:t,oldValue:i}=e;if(b.has(r)){let[o,c]=b.get(r);if(c.includes(t)||c.length==0){const u=r.getAttribute(t);o(t,i,u,r)}}}y.forEach(e=>e())}).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0});function V(n,e){setTimeout(r),y.add(r);function r(){document.querySelectorAll(n).forEach(t=>{if(!b.has(t)){const{connected:i=()=>{},disconnected:o=()=>{},attributeChanged:c=()=>{},observedAttributes:u=[]}=e(t);b.set(t,[c,u]),i(),q(n,t,()=>o())}})}}function q(n,e,r){setTimeout(t),y.add(t);function t(){e&&document.contains(e)&&e.matches(n)||(b.delete(e),y.delete(t),r())}}let N=(n,e,r,t)=>{let i={};for(let o=1;o<e.length;o++){let c=e[o],u=typeof c=="number"?r[c]:c,l=e[++o];if(l===1)t[0]=u;else if(l===3)t[1]=Object.assign(t[1]||{},u);else if(l===5)(t[1]=t[1]||{})[e[++o]]=u;else if(l===6){let a=e[++o],m=(t[1]=t[1]||{})[a],h=i[a];h||typeof u!="function"&&typeof m!="function"||(h=m&&[m]||[],t[1][a]=function(){let d="";for(var v=0;v<h.length;v++)d+=typeof h[v]=="function"?h[v].call(this):h[v];return d}),h?h.push(u):t[1][a]+=u+""}else if(l){let a=()=>n.apply(null,N(n,u,r,["",null]));t.push(typeof t[0]=="function"?a:a())}else t.push(u)}return t},B=function(n){let e,r,t=1,i="",o="",c=[0],u=l=>{t===1&&(l||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?c.push(l||i,0):t===3&&(l||i)?(c.push(l||i,1),t=2):t===2&&i==="..."&&l?c.push(l,3):t===2&&i&&!l?c.push(!0,5,i):t>=5&&((i||!l&&t===5)&&(c.push(i,t,r),t=6),l&&(c.push(l,t,r),t=6)),i=""};for(let l=0;l<n.length;l++){l&&(t===1&&u(),u(l));for(let a=0;a<n[l].length;a++)e=n[l][a],t===1?e==="<"?(u(),c=[c],t=3):i+=e:t===4?i==="--"&&e===">"?(t=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:e==='"'||e==="'"?o=e:e===">"?(u(),t=1):t&&(e==="="?(t=5,r=i,i=""):e==="/"&&(t<5||n[l][a+1]===">")?(u(),t===3&&(c=c[0]),t=c,(c=c[0]).push(t,2),t=0):e===" "||e==="	"||e===`
`||e==="\r"?(u(),t=2):i+=e),t===3&&i==="!--"&&(t=4,c=c[0])}return u(),c},_=new Map,z=function(n){let e=_.get(this);return e||(e=new Map,_.set(this,e)),e=N(this,e.get(n)||(e.set(n,e=B(n)),e),arguments,[]),e.length>1?e:e[0]},G=function(){let n=z.apply(this,arguments);if(n)return Array.isArray(n)?this(n):typeof n=="object"?n:this([n])},w=function(){let n=G.bind(this);return(this.wrap||n).apply(n,arguments)},H=[],f;function I(n){let e=f,r=()=>{};f=r,E(r);let t=n(()=>{$(r),f=void 0});return f=e,t}function J(n){let e=f;f=void 0;let r=n();return f=e,r}function C(n){function e(r){if(arguments.length===0)return f&&!e.__o.has(f)&&(e.__o.add(f),f.u.push(e)),n;n=r;let t=f;return f=void 0,e.o=new Set(e.__o),e.o.forEach(i=>i.i=!1),e.o.forEach(i=>{i.i||i()}),f=t,n}return e.$o=1,e.__o=new Set,e.t=H,e}function A(n,e){function r(){let i=f;return f&&f.__c.push(r),$(r),r.i=!0,f=r,e=n(e),f=i,e}function t(){return r.i?f&&r.u.forEach(i=>i()):e=r(),e}return n.l=r,E(r),r(),t.$o=1,t}function S(n){return f&&f.v.push(n),n}function j(n){return A(n),()=>$(n.l)}function $(n){n.__c.forEach($),n.u.forEach(e=>{e.__o.delete(n),e.o&&e.o.delete(n)}),n.v.forEach(e=>e()),E(n)}function E(n){n.u=[],n.__c=[],n.v=[]}let s={},K=[];function k(n){return this.t&&this.t[n.type](n)}s.h=(...n)=>{let e,r=t=>{if(t!=null)if(typeof t=="string")e?s.add(e,t):e=s.s?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);else if(Array.isArray(t))e||(e=document.createDocumentFragment()),t.forEach(r);else if(t instanceof Node)e?s.add(e,t):e=t;else if(typeof t=="object")s.property(e,t,null,s.s);else if(typeof t=="function")if(e){let i=s.add(e,"");s.insert(e,t,i)}else e=t.apply(null,n.splice(1));else s.add(e,""+t)};return n.forEach(r),e},s.insert=(n,e,r,t,i)=>(n=r&&r.parentNode||n,i=i||t instanceof Node&&t,e===t||(t&&typeof t!="string"||!(typeof e=="string"||typeof e=="number"&&(e+=""))?typeof e=="function"?s.subscribe(()=>{t=s.insert(n,e.call({el:n,endMark:r}),r,t,i)}):(r?t&&(i||(i=t.o&&t.o.nextSibling||r.previousSibling),s.rm(n,i,r)):n.textContent="",t=null,e&&e!==!0&&(t=s.add(n,e,r))):(t!=null&&n.firstChild?r?(r.previousSibling||n.lastChild).data=e:n.firstChild.data=e:r?s.add(n,e,r):n.textContent=e,t=e)),t),s.property=(n,e,r,t,i)=>{if(e!=null)if(!r||r==="attrs"&&(t=!0))for(r in e)s.property(n,e[r],r,t,i);else r[0]!=="o"||r[1]!=="n"||e.$o?typeof e=="function"?s.subscribe(()=>{s.property(n,e.call({el:n,name:r}),r,t,i)}):i?n.style.setProperty(r,e):t||r.slice(0,5)==="data-"||r.slice(0,5)==="aria-"?n.setAttribute(r,e):r==="style"?typeof e=="string"?n.style.cssText=e:s.property(n,e,null,t,!0):(r==="class"&&(r+="Name"),n[r]=e):((o,c,u)=>{c=c.slice(2).toLowerCase(),u?o.addEventListener(c,k):o.removeEventListener(c,k),(o.t||(o.t={}))[c]=u})(n,r,e)},s.add=(n,e,r)=>{let t=(i=>{const{childNodes:o}=i;if(o&&i.nodeType===11)return o.length<2?o[0]:{o:s.add(i,"",o[0])}})(e=(i=>typeof i=="string"?document.createTextNode(i):i instanceof Node?i:s.h(K,i))(e))||e;return n.insertBefore(e,r&&r.parentNode&&r),t},s.rm=(n,e,r)=>{for(;e&&e!==r;){let t=e.nextSibling;n===e.parentNode&&n.removeChild(e),e=t}},s.subscribe=j,s.cleanup=S,s.root=I,s.sample=J,s.hs=(...n)=>{let e=s.s;s.s=!0;let r=Q(...n);return s.s=e,r};let Q=(...n)=>s.h.apply(s.h,n),g;function R(n,e,r){let t=function(){const{el:i,name:o,endMark:c}=this,u=(l,a,m,h)=>{if(m==null){let d=a||l;a&&a.t===void 0&&l.firstChild===l.lastChild&&l.firstChild===a&&(a.t=""),d.t=s.insert(l,h,a,d.t)}else s.property(l,h,m)};u.o=i,u.u=c,u.l=o,u.i=n,u.m=e,u.p=r,g.push(u)};return t.$o=2,t}function U(n,e){let r=g;g=[];let t=n(),i=g;g=r;let o=t.content||t.parentNode&&t;o||(o=document.createDocumentFragment(),o.appendChild(t));let c=o.cloneNode(!0);function u(l,a){a!==!1&&a!==!0||(e=a);let m={},h;return e?(o.A&&o.A.forEach(d=>o.appendChild(d)),h=o):h=c.cloneNode(!0),h.firstChild&&(h.firstChild.props=l),i.forEach(d=>{d.g=e?d.o:O(h,d.h),d.j=e?d.u:d.k&&O(d.g,d.k)}),i.forEach(d=>{s.action(d,l,m)(d.i,d.l)}),o.A=Array.from(o.childNodes),h}return e||i.forEach(l=>{l.h=M(o,l.o),l.k=l.u&&M(l.o,l.u)}),u.$t=!0,u}function M(n,e){let r,t=[];for(;(r=e.parentNode)!==n.parentNode;)t.unshift(Array.from(r.childNodes).indexOf(e)),e=r;return t}function O(n,e){return e.forEach(r=>n=n.childNodes[r]),n}s.action=(n,e,r)=>{let t=n.g;return(i,o)=>{let c=e[i];c!=null&&n(t,n.j,o,c),n.m&&(r[i]||(r[i]=[],Object.defineProperty(e,i,{get:()=>n.p?o in t?t[o]:t:c,set(u){c=u,r[i].forEach(l=>l(u))}})),r[i].push(n.bind(null,t,n.j,o)))}};let T={};function L(n){let e=(n?s.hs:s.h).bind();return e.wrap=function(){let r=this,t=Array.from(arguments),i=t[0],o=t.slice(1);for(let u=1;u<t.length;u++)t[u]=W(u-1);function c(){const{endMark:u}=this||{},l=i.join("\0");let a=T[l];a||(a=U(()=>r.apply(null,t)),T[l]=a),c.t=c.t||u;let m=u&&c.t!==u;return a.t?m=a.t!==u:a.t=u,a(o,!m)}return c},e}function P(n,e){e.t=e.t||s.add(e,""),e.o=s.insert(e,n,e.t,e.o)}function W(n){return R(n)}let D=L(),F=L(!0);function X(){return w.apply(D,arguments)}function Y(){return w.apply(F,arguments)}const Z=(n,e,r=[],t)=>{const i=o=>P(e(o),o);V(n,o=>({connected:()=>i(o),disconnected:()=>{t&&t()},attributeChanged:()=>{i(o)},observedAttributes:r}))};p.cleanup=S,p.computed=A,p.define=Z,p.h=D,p.hs=F,p.html=X,p.o=C,p.observable=C,p.render=P,p.subscribe=j,p.svg=Y,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
